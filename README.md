# Инструкция по запуску мобильного приложения Music Avito

## 1. Клонирование проекта 
Необходимо клонировать проект на свой компьютер:
```sh

git clone https://github.com/Averkieva/MusicAvito.git
```
## 2. Как открыть проект
- Откройте приложение **Android Studio** 
- Выберите **“Open an Existing Project”** и укажите папку с проектом.
- Необходимая версия: JDK 17
## 3. Как запустить Music Avito 
- Подключите эмулятор/реальное устройство, у которого minSdk = 24
- Перейдите в модуль app
- Запустите приложение через **"Run"** в Android Studio 

## Функциональность и технологии, используемые в проекте
- LiveData
- ViewModel
- Dagger2
- NavigationComponent
- OkHttp
- Retrofit
- Gson
- MediaPlayer
- Glide
- SharedPreferences
- Coroutines
- NotificationCompat
- ViewBinding
- Parcelize
- LifeCycle
- Fragment
- MediaSession
- ConstraintLayout



# Проблемы при разработке приложения

## 1. Многомодульность
Так как впервые делала столько модулей, было сложно структурировать и решать, какие компоненты где должны находиться. Решение - создан модуль core, где собрана основная и переиспользуемая логика, а у других модулей есть доступ к ней

## 2. Тестирование
Никогда не писала тесты, поэтому не успела их реализовать

## 3. Фоновый плеер
Не успела реализовать кнопки вперед/назад

## 4. Dagger
Не работала с ним, не совсем было понятно, стоит ли выделять общий AppComponent или нет, реализовала в каждом модуле свой FeatureComponent по итогу



# Описание функционала приложения

В Music Avito есть навигация внизу экрана, запуск происходит с экрана скачанных треков. 
На самом экране есть поисковая строка и список скачанных треков. Трек состоит из:
- обложки
- названия
- исполнителя
- длительности трека
Если при поиске не было найдено трека - высветится соответствующая ошибка
При нажатии на трек пользователь попадает на экран плеера
Клавиатура убирается при скролле списка или при нажатии на зону вне поисковой строки.

Если пользователь нажимает иконку поиска в навигации, он попадает на экран поиска треков. Когда поисковой запрос пуст, пользователю показывается топ треков, при нажатии на которые откроется плеер. Если введет запрос - трек ищется с помощью DeezerApi. Обработаны 4 ошибки: ошибка сервера, по вашему запросу ничего не найдено, отсутствует подключение к интернету и неизвестная ошибка. Если интернет появился в момент поискового запроса - треки автоматически подгрузятся. Клавиатура убирается при скролле списка или при нажатии на зону вне поисковой строки.

При нажатии на трек пользователь попадает на экран плеера, состоящего из:
- кнопки назад
- обложки трека
- названия трека
- исполнителя
- альбома
- seek-bar-а
- 5 контролов: предыдущий трек, перемотать на 10 секунд, плей/пауза, перемотать на 10 секунд вперед, следующий трек
- информации о треке: год релиза, длительность трека, название альбома, позиция трека в альбоме
- кнопки скачать трек, если трек не скачан и трек уже скачан в противном случае
Скачанный трек можно увидеть на соответствующем экране. Треки переключаются вперед/назад в рамках своих плейлистов (треки при поиске, треки в топе, скачанные треки, скачанные треки при поиске)

При выходе из приложения трек продолжает играть, а плеер отображается в виде уведомления с прогрессбаром и контролами плей/пауза

